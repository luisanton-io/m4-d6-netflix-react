{"ast":null,"code":"var _jsxFileName = \"/Users/lou/Documents/Strive/m4-d6-netflix-react/src/components/Movie.jsx\";\nimport React, { Component } from \"react\";\nimport { Col, Modal, Form, InputGroup, FormControl, Button } from \"react-bootstrap\";\nimport CommentList from \"./CommentList\";\n\nclass Movie extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selected: false,\n      newComment: {\n        comment: \"\",\n        rate: 0,\n        elementId: this.props.data.imdbID\n      }\n    };\n\n    this.submitComment = async e => {\n      e.preventDefault();\n      const commentsUrl = \"https://striveschool.herokuapp.com/api/comments/\";\n      const response = await fetch(commentsUrl, {\n        method: \"POST\",\n        body: JSON.stringify(this.state.newComment),\n        headers: new Headers({\n          Authorization: \"[INSERT_YOUR_AUTH_HERE]\",\n          \"Content-Type\": \"application/json\"\n        })\n      });\n\n      if (response.ok) {\n        alert(\"Comment added\");\n        this.setState({\n          newComment: {\n            comment: \"\",\n            rate: 0,\n            elementId: this.props.data.imdbID\n          }\n        });\n      } else {\n        alert(\"An error has occurred\");\n      }\n    };\n\n    this.handleRadioChange = e => {\n      let newComment = this.state.newComment;\n      newComment.rate = e.currentTarget.id;\n      this.setState({\n        newComment\n      });\n    };\n\n    this.handleCommentText = e => {\n      let newComment = this.state.newComment;\n      newComment.comment = e.currentTarget.value;\n      this.setState({\n        newComment\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Col, {\n      className: \"mb-2\",\n      key: this.props.data.imdbID,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"img-fluid\",\n      src: this.props.data.Poster,\n      alt: \"movie\",\n      onClick: () => {\n        this.setState({\n          selected: !this.state.selected\n        });\n        this.props.fetchComments(this.props.data.imdbID);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.selected,\n      onHide: () => this.setState({\n        selected: !this.state.selected\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, \"Movie comments\")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"my-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, this.props.comments.length > 0 && this.props.comments[0].elementId === this.props.data.imdbID && /*#__PURE__*/React.createElement(CommentList, {\n      comments: this.props.comments,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"my-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, \"Add a comment\"), /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.submitComment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"my-3 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Form.Check, {\n      inline: true,\n      label: \"1\",\n      type: \"radio\",\n      id: \"1\",\n      name: \"rating\",\n      onClick: this.handleRadioChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Form.Check, {\n      inline: true,\n      label: \"2\",\n      type: \"radio\",\n      id: \"2\",\n      name: \"rating\",\n      onClick: this.handleRadioChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Form.Check, {\n      inline: true,\n      label: \"3\",\n      type: \"radio\",\n      id: \"3\",\n      name: \"rating\",\n      onClick: this.handleRadioChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Form.Check, {\n      inline: true,\n      label: \"4\",\n      type: \"radio\",\n      id: \"4\",\n      name: \"rating\",\n      onClick: this.handleRadioChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Form.Check, {\n      inline: true,\n      label: \"5\",\n      type: \"radio\",\n      id: \"5\",\n      name: \"rating\",\n      onClick: this.handleRadioChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(InputGroup, {\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      placeholder: \"Write your comment\",\n      \"aria-label\": \"comment\",\n      \"aria-describedby\": \"basic-addon1\",\n      onChange: this.handleCommentText,\n      value: this.state.newComment.comment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 19\n      }\n    }, \"Submit\")))))));\n  }\n\n}\n\nexport default Movie;","map":{"version":3,"sources":["/Users/lou/Documents/Strive/m4-d6-netflix-react/src/components/Movie.jsx"],"names":["React","Component","Col","Modal","Form","InputGroup","FormControl","Button","CommentList","Movie","state","selected","newComment","comment","rate","elementId","props","data","imdbID","submitComment","e","preventDefault","commentsUrl","response","fetch","method","body","JSON","stringify","headers","Headers","Authorization","ok","alert","setState","handleRadioChange","currentTarget","id","handleCommentText","value","render","Poster","fetchComments","comments","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Col,\n  Modal,\n  Form,\n  InputGroup,\n  FormControl,\n  Button,\n} from \"react-bootstrap\";\nimport CommentList from \"./CommentList\";\n\nclass Movie extends Component {\n  state = {\n    selected: false,\n    newComment: {\n      comment: \"\",\n      rate: 0,\n      elementId: this.props.data.imdbID,\n    },\n  };\n\n  submitComment = async (e) => {\n    e.preventDefault();\n    const commentsUrl = \"https://striveschool.herokuapp.com/api/comments/\";\n    const response = await fetch(commentsUrl, {\n      method: \"POST\",\n      body: JSON.stringify(this.state.newComment),\n      headers: new Headers({\n        Authorization: \"[INSERT_YOUR_AUTH_HERE]\",\n        \"Content-Type\": \"application/json\",\n      }),\n    });\n    if (response.ok) {\n      alert(\"Comment added\");\n      this.setState({\n        newComment: {\n          comment: \"\",\n          rate: 0,\n          elementId: this.props.data.imdbID,\n        },\n      });\n    } else {\n      alert(\"An error has occurred\");\n    }\n  };\n\n  handleRadioChange = (e) => {\n    let newComment = this.state.newComment;\n    newComment.rate = e.currentTarget.id;\n    this.setState({ newComment });\n  };\n\n  handleCommentText = (e) => {\n    let newComment = this.state.newComment;\n    newComment.comment = e.currentTarget.value;\n    this.setState({ newComment });\n  };\n\n  render() {\n    return (\n      <Col className=\"mb-2\" key={this.props.data.imdbID}>\n        <img\n          className=\"img-fluid\"\n          src={this.props.data.Poster}\n          alt=\"movie\"\n          onClick={() => {\n            this.setState({ selected: !this.state.selected });\n            this.props.fetchComments(this.props.data.imdbID);\n          }}\n        />\n        <Modal\n          show={this.state.selected}\n          onHide={() => this.setState({ selected: !this.state.selected })}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>Movie comments</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <div className=\"my-3\">\n              {this.props.comments.length > 0 &&\n                this.props.comments[0].elementId === this.props.data.imdbID && (\n                  <CommentList comments={this.props.comments} />\n                )}\n              <div className=\"text-center\">\n                <h5 className=\"my-3\">Add a comment</h5>\n                <Form onSubmit={this.submitComment}>\n                  <div className=\"my-3 text-center\">\n                    <Form.Check\n                      inline\n                      label=\"1\"\n                      type=\"radio\"\n                      id=\"1\"\n                      name=\"rating\"\n                      onClick={this.handleRadioChange}\n                    />\n                    <Form.Check\n                      inline\n                      label=\"2\"\n                      type=\"radio\"\n                      id=\"2\"\n                      name=\"rating\"\n                      onClick={this.handleRadioChange}\n                    />\n                    <Form.Check\n                      inline\n                      label=\"3\"\n                      type=\"radio\"\n                      id=\"3\"\n                      name=\"rating\"\n                      onClick={this.handleRadioChange}\n                    />\n                    <Form.Check\n                      inline\n                      label=\"4\"\n                      type=\"radio\"\n                      id=\"4\"\n                      name=\"rating\"\n                      onClick={this.handleRadioChange}\n                    />\n                    <Form.Check\n                      inline\n                      label=\"5\"\n                      type=\"radio\"\n                      id=\"5\"\n                      name=\"rating\"\n                      onClick={this.handleRadioChange}\n                    />\n                  </div>\n                  <InputGroup className=\"mb-3\">\n                    <FormControl\n                      placeholder=\"Write your comment\"\n                      aria-label=\"comment\"\n                      aria-describedby=\"basic-addon1\"\n                      onChange={this.handleCommentText}\n                      value={this.state.newComment.comment}\n                    />\n                  </InputGroup>\n                  <Button variant=\"primary\" type=\"submit\">\n                    Submit\n                  </Button>\n                </Form>\n              </div>\n            </div>\n          </Modal.Body>\n        </Modal>\n      </Col>\n    );\n  }\n}\n\nexport default Movie;\n"]},"metadata":{},"sourceType":"module"}